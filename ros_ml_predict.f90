program example_ros_ml_predict
  use, intrinsic :: iso_c_binding
  implicit none
  interface 
    function ros_ml_predict(x) result(y) bind(c)
      use iso_c_binding
      real(c_double) :: x(47)
      real(c_double) :: y
    end function ros_ml_predict
  end interface

  real(8) :: x(47)
  real(8) :: y
  x = [1105.7976643193751, 0.17061955308778265, 0.018979597292311842, 0.0, -1.0, &
       3.0413840322963894, -0.6571235718949965, 0.396375541545834, 307.6723123283679, &
       307.35411117926776, 307.35411117926776, 305.9057136290091, 299.7779702900971, &
       295.59931884841296, 289.2735432748379, 286.07889294593963, 0.010666665663669177, &
       4.9505885472741924e-05, 0.06638221325223438, 0.13392111727822836, 0.16654954648422104, &
       0.1812489057754434, 0.27184091385832204, 0.2754696636609235, 0.05885779318221597, &
       0.06271796881187641, 0.04920085451560734, 0.04150832649315099, 0.300000011920929, &
       0.0, 0.0, 89712.02908014583, 289.1811704551826, 1952.579053658814, 0.0, 0.0, 0.0, &
       0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0]
  print *, 'Input'
  print *, x
  y = ros_ml_predict(x)
  print *, 'Data'
  print *, 1.3798921347458066
  print *, 'Python'
  print *, 1.0322091
  print *, 'Fortran'
  print *,  y

end program example_ros_ml_predict
